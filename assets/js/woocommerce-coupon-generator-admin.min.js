"use strict";var WCCG_Generator={init:function(){this.generate_coupons(0,this)},generate_coupons:function(e,r){var o={action:"wccg_generate_coupons",form_data:jQuery("#wc-coupon-generator-form").serialize(),batch_step:e};jQuery.post(ajaxurl,o,function(e){(e=JSON.parse(e)).message&&r.add_message(e.message),"done"==e.step?r.completed(r,parseInt(jQuery('[name="number_of_coupons"]').val()),e.total_coupons_generated):r.generate_coupons(e.step,r),r.progress_bar(e.progress)})},progress_bar:function(e){jQuery(".wc-coupon-generator-progress-bar .progress").css("width",e+"%"),jQuery(".wc-coupon-generator-progress-percentage").html(e+"%"),jQuery(".inner-progress").css("width",jQuery(".wc-coupon-generator-progress-bar").width())},completed:function(e,r,o){jQuery(".wc-coupon-generator-progress-bar + .spinner").remove(),jQuery(".wc-coupon-generator-completed-actions").show();var s=jQuery(".wc-coupon-generator-completed-actions");s.show(),s.html(s.html().replace(/{{ couponGenerator.quantity }}/,r))},add_message:function(e){jQuery(".wc-coupon-generator-progress-messages").prepend('<span class="wc-coupon-generator-progress-message">'+e+"</span><br/>")}};